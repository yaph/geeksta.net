"use strict";function drawPie(e,t){var n=arguments.length<=2||void 0===arguments[2]?"Count":arguments[2],r=arguments.length<=3||void 0===arguments[3]?"Response":arguments[3],l=new dimple.chart(getSVG(e,1),t);l.addMeasureAxis("p",n);var a=l.addSeries(r,dimple.plot.pie);a.getTooltipText=function(e){var t=d3.format("%")(e.piePct);return[labelMap[e.aggField[0]]+": "+e.pValue+" ("+t+")"]},l.setBounds("8%","8%","84%","84%"),t.forEach(function(e){return l.assignClass(e[r],e[r])}),l.draw()}var labelMap={yes:"Would tell",no:"Would not tell",open:"Not sure",female:"Female",male:"Male"};d3.csv("/data/tell-weight.csv",function(e){var t=e.filter(function(e){return"female"==e.Gender}),n=e.filter(function(e){return"male"==e.Gender}),r=d3.nest().key(function(e){return e.Gender}).rollup(function(e){return d3.sum(e,function(e){return e.Count})}).entries(e);drawPie("#pie-female",t),drawPie("#pie-male",n),drawPie("#pie-ratio",r,"values","key"),d3.select(".count-females").text(r.filter(function(e){return"female"==e.key}).pop().values),d3.select(".count-males").text(r.filter(function(e){return"male"==e.key}).pop().values),d3.select(".count-total").text(d3.sum(e,function(e){return e.Count}))});